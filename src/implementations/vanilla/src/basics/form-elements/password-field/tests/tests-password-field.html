<html>
    <head>
        <link rel="stylesheet" href="../../../../../../dist/hig.css">
        <script type="text/javascript" src="../../../../../../dist/hig.js"></script>

        <style>
            body{
                padding: 30px;
            }

            .test-group {
                margin-bottom: 50px;
            }
        </style>
    </head>
    <body>
        <div class='test-group'>
            <div class='tests-password-field-heading'></div>
            <div class='tests-password-field'></div>
        </div>

        <div class='test-group'>
            <div class='tests-password-reveal-field-heading'></div>
            <div class='tests-password-reveal-field'></div>
        </div>

        <div class='test-group'>
            <div class='tests-password-field-disabled-heading'></div>
            <div class='tests-password-field-disabled'></div>
        </div>

        <div class='test-group'>
            <div class='tests-password-field-update-heading'></div>
            <div class='tests-password-field-update'></div>
        </div>

        <div class='test-group'>
            <div class='tests-password-field-events-heading'></div>
            <div class='tests-password-field-events'></div>
        </div>

        <script>
            const Heading = Hig.Typography._partials.Heading;
            const FormElements = new Hig.FormElements();
            const PasswordField = FormElements.partials.PasswordField;

            // TEXT FIELD CONFIGURED WITH DEFAULTS

            const DefaultHeading = new Heading({
                text: "PasswordField configured with defaults",
                size: 3
            });

            const DefaultPasswordField = new PasswordField({
                label: "Passphrase",
                name: "user[password]",
                placeholder: "s3cr3t-pa55w0rd",
                instructions: "It's a secret to everybody."
            });

            DefaultHeading.mount('.tests-password-field-heading');
            DefaultPasswordField.mount('.tests-password-field');

            // TEXT FIELD WITH REVEALABLE PASSWORD

            const RevealHeading = new Heading({
                text: "PasswordField configured with Reveals",
                size: 3
            });

            const RevealPasswordField = new PasswordField({
                placeholder: "s3cr3t-pa55w0rd",
                instructions: "Look over your shoulder before revealing your password."
            });

            RevealHeading.mount('.tests-password-reveal-field-heading');
            RevealPasswordField.mount('.tests-password-reveal-field');

            RevealPasswordField.onFocus(() => {
                RevealPasswordField.showPasswordRevealButton();
            });

            RevealPasswordField.onPasswordRevealButtonClick(() => {
                event.stopPropagation();
                event.preventDefault();
                RevealPasswordField.revealPassword();
                RevealPasswordField.hidePasswordRevealButton();
                RevealPasswordField.showPasswordHideButton();
            });

            RevealPasswordField.onPasswordHideButtonClick(() => {
                event.stopPropagation();
                event.preventDefault();
                RevealPasswordField.hidePassword();
                RevealPasswordField.showPasswordRevealButton();
                RevealPasswordField.hidePasswordHideButton();
            });

            RevealPasswordField.onBlur((event) => {
                RevealPasswordField.hidePasswordRevealButton();
                RevealPasswordField.hidePasswordHideButton();
                RevealPasswordField.hidePassword();
            });

            // TEXT FIELD DISABLED

            const DisabledHeading = new Heading({
                text: "Disabled PasswordField",
                size: 3
            });

            const DisabledPasswordField = new PasswordField({
                label: "None shall pass",
            });

            DisabledHeading.mount('.tests-password-field-disabled-heading');
            DisabledPasswordField.mount('.tests-password-field-disabled');
            DisabledPasswordField.disable();


            // // TEXT FIELD CONFIGURED WITH SETTERS

            const SetterHeading = new Heading({
                text: "PasswordField configured with setters",
                size: 3
            });

            const SetterPasswordField = new PasswordField();

            SetterHeading.mount('.tests-password-field-update-heading');
            SetterPasswordField.mount('.tests-password-field-update');

            SetterPasswordField.setLabel('This is an updated label');
            SetterPasswordField.setInstructions('These instructions have been updated');
            SetterPasswordField.setName('updated-name');
            SetterPasswordField.setPlaceholder('Updated placeholder');
            SetterPasswordField.setValue('Updated value');
            SetterPasswordField.required('You have to fill this in.');


            // // TEXT FIELD WITH EVENT LISTENERS

            const EventsHeading = new Heading({
                text: "PasswordField that logs events to the console",
                size: 3
            });

            const EventsPasswordField = new PasswordField();

            EventsHeading.mount('.tests-password-field-events-heading');
            EventsPasswordField.mount('.tests-password-field-events');

            function log(event) {
                const message = `${event.type} event triggered`;
                console.log(message);
            }

            EventsPasswordField.onBlur(log);
            EventsPasswordField.onChange(log);
            EventsPasswordField.onFocus(log);
            EventsPasswordField.onInput(log);

        </script>

    </body>
</html>